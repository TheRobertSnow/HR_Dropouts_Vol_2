{% extends 'base.html' %}
{% block content %}
    {% load cart_tag %}
    {% if request.session.cart|length != 0 %}
        <table class="cartTable">
            <tr class="cartRow">
                <th></th>
                <th>Product</th>
                <th>Quantity</th>
                <th>Remove</th>
                <th>Price</th>
            </tr>
            {% for key,value in request.session.cart.items %}
                <tr class="cartRow">
                    <td><img src="{{ value.mainImage }}" alt=""/></td>
                    <td>{{value.name}}</td>
                    <td>
                        <a href="{% url 'item_decrement' value.product_id %}">-</a>
                        {{value.quantity}}
                        <a href="{% url 'item_increment' value.product_id %}">+</a>
                    </td>
                    <td><a href="{% url 'item_clear' value.product_id %}">X</a></td>
                    <td>{{ value.price|multiply:value.quantity }}</td>
                </tr>
            {% endfor %}
            <tr class="cartRow">
                <th></th>
                <th></th>
                <th></th>
                <th>Total</th>
                <th>XXXX</th>
            </tr>
        </table>
        <a href="{% url 'cart_clear' %}">Clear Cart</a>
    {% elif request.session.cart|length == 0 %}
        <p>Cart is currently empty</p>
    {% endif %}
{% endblock %}